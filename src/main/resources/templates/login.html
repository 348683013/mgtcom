<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
 <head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="/css/mystyle.css">
  <link rel="stylesheet" type="text/css" href="/css/mystyle2.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" charset="utf-8"></script>
  <title>Login</title>
 </head>
 <body>
 	<form action="/callback" class="login-form" method="post">
		<h2 style="text-align: center;">管理员登陆</h2>

		<div>
			<input class="myinput-style" placeholder="用户名" type="text" name="username">
		</div>
		<div>
			<input class="myinput-style" placeholder="密码" type="password" name="password">
		</div>

		<!--验证码-->
		<div>
			<input class="myverifycode-style" name="verifycode" placeholder="验证码" type="text">
			<!-- 验证码 显示 -->
			<img onclick="javascript:getvCode()" id="verifyimg"/>
		</div>

		<div  class="errormsg"
				th:text="${error}" th:if="${error != null}"></div>

		<input type="submit" name="" class="logbtn" value="登陆">
		<!--<div class="bottom-text">
			Don't have account?<a href="#">Sign up</a>
		</div>-->
	</form>

	<!--<script type="text/javascript">-->
		<!--$(".txtb input").on("focus",function(){-->
			<!--$(this).addClass("focus");-->
		<!--})-->

		<!--$(".txtb input").on("blur",function(){-->
			<!--if ($(this).val()=="")-->
			<!--$(this).removeClass("focus");-->
		<!--})-->
	<!--</script>-->


	<script type="text/javascript">
		getvCode();

		/**
		 * 获取验证码
		 * 将验证码写到login.html页面的id = verifyimg 的地方
		 */
		function getvCode() {
			document.getElementById("verifyimg").src = timestamp("http://127.0.0.1:8886/verifyCode");
		}
		//为url添加时间戳
		function timestamp(url) {
			var getTimestamp = new Date().getTime();
			if (url.indexOf("?") > -1) {
				url = url + "&timestamp=" + getTimestamp
			} else {
				url = url + "?timestamp=" + getTimestamp
			}
			return url;
		};


	</script>
 </body>
</html>
